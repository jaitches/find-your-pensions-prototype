
{% extends "layout_unbranded.html" %}

{% block pageTitle %}
  View my pensions - manage pensions
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <form action="/add-pension-details" method="post" class="form">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              Add pension details
            </h1>
          </legend>

          <div class="govuk-form-group">
            <label class="govuk-label" for="pension-owner">
              Pension owner name
            </label>
            <input class="govuk-input" id="pension-owner" name="pension-owner" type="text">
          </div>

          <div class="govuk-form-group">
            <label class="govuk-label" for="pension-name">
              Pension name
            </label>
            <input class="govuk-input" id="pension-name" name="pension-name" type="text">
          </div>

          <div class="govuk-form-group">
            <label class="govuk-label" for="pension-provider">
              Pension provider
            </label>
            <input class="govuk-input govuk-!-width-two-thirds" id="pension-provider" name="pension-provider" type="text">
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="pension-type">
              Pension type
            </label>
            <select class="govuk-select" id="pension-type" name="pension-type">
              <option value="db-type" selected>DB</option>
              <option value="dc-type">DC</option>
              <option value="state-type">State</option>
            </select>
          </div>

          <div class="govuk-form-group">
            <label class="govuk-label govuk-label--l" for="pension-value">
              Pension value
            </label>
            <div class="govuk-input__wrapper">
              <div class="govuk-input__prefix" aria-hidden="true">£</div>
              <input class="govuk-input govuk-input--width-5" id="pension-value" name="pension-value" type="text" spellcheck="false">
            </div>
          </div>
          <div class="govuk-form-group">
            <h1 class="govuk-label-wrapper"><label class="govuk-label govuk-label--l" for="annual-eri">
                Annual estimated income
              </label>
            </h1>
            <div class="govuk-input__wrapper">
              <div class="govuk-input__prefix" aria-hidden="true">£</div>
              <input class="govuk-input govuk-input--width-5" id="annual-eri" name="annual-eri" type="text" spellcheck="false">
            </div>
          </div>
          <div class="govuk-form-group">
            <label class="govuk-label" for="pension-type">
              Pension type
            </label>
            <input class="govuk-input govuk-!-width-two-thirds" id="pension-provider" name="pension-type" type="text">
          </div>

        </fieldset>

          {{ govukInput({
            label: {
              html: ''
            },
            classes: "govuk-!-width-two-thirds",
            id: "pension-owner",
            name: "pension-owner"
          }) }}          
          {{ govukInput({
            label: {
              html: 'Pension name'
            },
            classes: "govuk-!-width-two-thirds",
            id: "",
            name: "pension-name"
          }) }}

<!--          {{ govukInput({
            label: {
              text: "Pension provider"
            },
            classes: "govuk-!-width-two-thirds",
            id: "pension-provider",
            name: "pension-provider"
          }) }}
-->
          {% for name in pensionProviders %}
          {{ govukSelect({
            id: "pension-provider",
            name: "pension-provider",
            label: {
              text: "Pension provider"
            },
            items: [
              {
                value: name.pensionProvider,
                text: name.pensionProvider
              }
            ]
          }) }}
          {% endfor %}
          {{ govukInput({
            id: "pension-value",
            name: "pension-value",
            label: {
              text: ""
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5"
          }) }}
          
          {{ govukInput({
            id: "annual-eri",
            name: "annual-eri",
            label: {
              text: "Annual estimated income"
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5"
          }) }}

          {{ govukDateInput({
            id: "date-calculated",
            namePrefix: "date-calculated",
            fieldset: {
              legend: {
                text: "Date estimated amount calculated"
              }
            },
            hint: {
              text: "For example, 12 11 2007"
            }
          }) }}

          {{ govukDateInput({
            id: "date-payable",
            namePrefix: "date-payable",
            fieldset: {
              legend: {
                text: "Date payable"
              }
            },
            hint: {
              text: "For example, 12 11 2007"
            }
          }) }}     
        {% endcall %}
        <div class="govuk-button-group">
          <button class="govuk-button" data-module="govuk-button" data-prevent-double-click="true">
            Save pension details
          </button>

          <a class="govuk-link" href="display-pensions">List pensions</a>
        </div>
    </form>
<!--
    <form action="/update-pension" method="post" class="form">
-->  
<!--   
      <table class="govuk-table">
        <caption class="govuk-table__caption govuk-table__caption--m">Your pension summary</caption>
        <thead class="govuk-table__head govuk-body-s">
          <tr class="govuk-table__row">
            <th colspan="2" scope="col" class="govuk-table__header"></th>
            <th colspan="4" scope="col" class="govuk-table__header pdp-shaded-header">Estimated retirement income</th>
            <th colspan="2" scope="col" class="govuk-table__header"></th>
          </tr>

          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header">Pension name</th>
            <th scope="col" class="govuk-table__header">Pension provider</th>
            <th scope="col" class="govuk-table__header">Pension value</th>
            <th scope="col" class="govuk-table__header">Estimated income a year</th>
            <th scope="col" class="govuk-table__header">Date estimated amount calculated</th>
            <th scope="col" class="govuk-table__header">Date payable</th>
            <th scope="col" class="govuk-table__header">Delete</th>
            <th scope="col" class="govuk-table__header"></th>
          </tr>
        </thead>
        {% for details in pensionDetails %}
          <tbody class="govuk-table__body govuk-body-s">
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">{{details.pensionName}}</td>
              <td class="govuk-table__cell">{{details.administratorName}}</td>
              <td class="govuk-table__cell">{{details.ERIPot}}</td>
              <td class="govuk-table__cell">{{details.ERIAnnualAmount}}</td>
              <td class="govuk-table__cell">{{details.ERICalculationDate}}</td>
              <td class="govuk-table__cell">{{details.ERIPayableDate}}</td>
              <td class="govuk-table__cell" onclick="deleteRow(this)"> <button class="govuk-button govuk-button--warning" data-module="govuk-button">Delete</button></td>
            </tr>

          </tbody>
        {% endfor %}
        </table>
      -->
<!--           <button data-prevent-double-click="true" class="govuk-button" data-module="govuk-button">
          Save all changes
        </button>
   </form> 
      <form action="/delete-pension" method="post" class="form">

        <button class="govuk-button govuk-button--warning" data-module="govuk-button">
          Delete all records
        </button>

      </form>
      -->
    </div>
  </div>

{% endblock %}

document.getElementById("myP").contentEditable = "true"; 
