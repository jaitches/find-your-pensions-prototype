
{% extends "layout_unbranded.html" %}

{% block pageTitle %}
  {{serviceName}} - add pension
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        Add pension details
      </h1>

      <form action="/add-pension-details" method="post" class="form">
        {% call govukFieldset({
          legend: {
            text: "Pension owner",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}

          {{ govukInput({
            label: {
              html: 'Enter the name of the pension owner'
            },
            classes: "govuk-!-width-two-thirds",
            id: "pensionOwner",
            name: "pensionOwner"
          }) }} 
        {% endcall %}

        {% call govukFieldset({
          legend: {
            text: "Select pension provider",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}

          <div class="govuk-form-group">
            <label class="govuk-label" for="administratorName">
              Pension provider name
            </label>
              <div id="event-name-hint" class="govuk-hint">
                If the pension provider is not displayed you can <a href="add-providers">add a new provider</a>
              </div>
              <select class="govuk-select" id="administratorName" name="administratorName">
              {% for name in pensionProviders %}
              {% set administratorDetails =  name._id + ":" + name.administratorName %}

              <option value="{{administratorDetails}}">{{name.administratorName}}</option>

              {% endfor %}

            </select>
          </div>
        {% endcall %}

        {% call govukFieldset({
          legend: {
            text: "Add pension arrangement details",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}

          {{ govukInput({
            label: {
              html: 'Pension reference'
            },
            classes: "govuk-!-width-two-thirds",
            id: "pensionReference",
            name: "pensionReference"
          }) }}

          {{ govukInput({
            label: {
              html: 'Pension name'
            },
            classes: "govuk-!-width-two-thirds",
            id: "pensionName",
            name: "pensionName"
          }) }}

          {{ govukSelect({
            id: "pensionType",
            name: "PensionType",
            label: {
              text: "pensionType"
            },
            items: [

              {
                value: "DC",
                text: "DC pension"
              },              
              {
                value: "DB",
                text: "DB pension"
              },              
              {
                value: "ST",
                text: "State pension"
              },
              {
                value: "AVC",
                text: "AVC pension"
              },
              {
                value: "HYB",
                text: "Hybrid (DC and DB) pension"
              }             
            ]
          }) }}

          {{ govukSelect({
            id: "pensionOrigin",
            name: "pensionOrigin",          
            label: {
              html: 'Pension origin'
            },
            items: [
              {
                value: "W",
                text: "Workplace"
              },              
              {
                value: "P",
                text: "Private"
              },              
              {
                value: "S",
                text: "State"
              }
            ]
   
          }) }}

           {{ govukSelect({
            id: "pensionStatus",
            name: "pensionStatus",          
            label: {
              html: 'Pension status'
            },
            items: [
              {
                value: "A",
                text: "Active"
              },              
              {
                value: "I",
                text: "Inactive"
              }
            ]
   
          }) }}

          <label for="pensionStartDate" class="govuk-body">Pension start date</label>
          <p>
            <input type="date" id="pensionStartDate" name="pensionStartDate" class="govuk-body">
          </p>
<!--
          {{ govukDateInput({
            id: "pensionStartDate",
            namePrefix: "pensionStartDate",
            fieldset: {
              legend: {
                text: "Pension start date"
              }
            }
          }) }}
          
          {{ govukDateInput({
            id: "pensionStartDate",
            namePrefix: "pensionStartDate",
            fieldset: {
              legend: {
                text: "Pension start date"
              }
            }
          }) }}
-->          
          <label for="pensionRetirementDate" class="govuk-body">Pension retirement date</label>
          <p>
            <input type="date" id="pensionRetirementDate" name="pensionRetirementDate" class="govuk-body">
          </p>
<!--
          {{ govukDateInput({
            id: "pensionRetirementDate",
            namePrefix: "pensionRetirementDate",
            fieldset: {
              legend: {
                text: "Pension retirement date"
              }
            }
          }) }}

          {{ govukInput({
            label: {
              html: 'Pension link'
            },
            classes: "govuk-!-width-two-thirds",
            id: "pensionLink",
            name: "pensionLink"
          }) }}
-->
        {% endcall %}

        {% call govukFieldset({
          legend: {
            text: "Add employer details",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}
          
          {{ govukInput({
            label: {
              html: 'Employer name'
            },
            classes: "govuk-!-width-two-thirds",
            id: "employerName",
            name: "employerName"
          }) }}

          <label for="employerStartDate" class="govuk-body">Employment start date</label>
          <p>
            <input type="date" id="employerStartDate" name="employerStartDate" class="govuk-body">
          </p>

<!--
          {{ govukDateInput({
            id: "employerStartDate",
            namePrefix: "employerStartDate",
            fieldset: {
              legend: {
                text: "Date started employment"
              }
            }
          }) }}
-->
          <label for="employerEndDate" class="govuk-body">Employment end date</label>
          <p>
            <input type="date" id="employerEndDate" name="employerEndDate" class="govuk-body">
          </p>
<!--

          {{ govukDateInput({
            id: "employerEndDate",
            namePrefix: "employerEndDate",
            fieldset: {
              legend: {
                text: "Date employment ended"
              }
            }
          }) }}
-->
        {% endcall %}

        {% call govukFieldset({
          legend: {
            text: "Add estimated retirement income",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}
<!--
          {{ govukSelect({
            id: "ERIType",
            name: "ERIType",
            label: {
              text: "ERI type"
            },
            items: [
              {
                value: "DC",
                text: "Defined contribution"
              },              
              {
                value: "DB",
                text: "Defined benefit"
              },           
              {
                value: "DBL",
                text: "A separately accrued lump sum (not commutation)"
              },              
              {
                value: "AVC",
                text: "Additional volunatary contribution"
              },              
              {
                value: "CDI",
                text: "Collective DC (CC) benefits expressed as regular income"
              },           
              {
                value: "CDL",
                text: "Collective DC (CC) benefits expressed as lump sum"
              },              
              {
                value: "CBS",
                text: "Cash balance scheme"
              }
            ]
          }) }}

          {{ govukSelect({
            id: "ERIBasic",
            name: "ERIBasis",
            label: {
              text: "How ERI calculated"
            },
            items: [
              {
                value: "SMPI",
                text: "SMPI - statutory money purchase illustration"
              },              
              {
                value: "COBS",
                text: "COBS - Income illustration FCA COBS rules"
              },             
              {
                value: "BS",
                text: "BS - Benefit specific method no allowance of future build-up of benefits"
              },              
              {
                value: "BSF",
                text: "BSF - Benefit specific method including future build-up of benefits"
              }
            ]
          }) }}
-->
          <label for="ERICalculationDate" class="govuk-body">Date of ERI calculation</label>
          <p>
            <input type="date" id="ERICalculationDate" name="ERICalculationDate" class="govuk-body">
          </p>
<!--
          {{ govukDateInput({
            id: "ERICalculationDate",
            namePrefix: "ERICalculationDate",
            fieldset: {
              legend: {
                text: "Date ERI calculated"
              }
            }
          }) }}

          {{ govukDateInput({
            id: "ERIPayableDate",
            namePrefix: "ERIPayableDate",
            fieldset: {
              legend: {
                text: "Date ERI payable"
              }
            }
          }) }}
-->
          {{ govukInput({
            id: "ERIAnnualAmount",
            name: "ERIAnnualAmount",
            label: {
              text: "ERI annual amount"
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5"
          }) }}
          
          {{ govukInput({
            id: "ERIPot",
            name: "ERIPot",
            label: {
              text: "ERI pot value"
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5"
          }) }}
<!--
          {{ govukSelect({
            id: "ERISafeguardedBenefits",
            name: "ERISafeguardedBenefits",
            label: {
              text: "ERI safeguarded benefits for this pension?"
            },
            items: [           
              {
                value: "eri-safeguarded-no",
                text: "No"
              },
              {
                value: "eri-safeguarded-yes",
                text: "Yes"
              }
            ]
          }) }}
 
          {{ govukSelect({
            id: "ERIUnavailable",
            name: "ERIUnavailable",
            label: {
              text: "Reason ERI calculation not available"
            },
            items: [
              {
                value: "",
                text: "N/A"
              },            
              {
                value: "ERR",
                text: "System error code"
              },  
              {
                value: "TRN",
                text: "Transaction oustanding that affects the value"
              },              
              {
                value: "MAN",
                text: "Estimated income not currently availabel online"
              }
            ]
          }) }}
       -->
        {% endcall %}


        {% call govukFieldset({
          legend: {
            text: "Add accrued figures",
            classes: "govuk-fieldset__legend--l",
            isPageHeading: true
          }
        }) %}

<!--          {{ govukSelect({
            id: "accruedType",
            name: "accruedType",
            label: {
              text: "Accrued type"
            },
            items: [
              {
                value: "DC",
                text: "Defined contribution"
              },              
              {
                value: "DB",
                text: "Defined benefit"
              },           
              {
                value: "DBL",
                text: "A separately accrued lump sum (not commutation)"
              },              
              {
                value: "AVC",
                text: "Additional volunatary contribution"
              },              
              {
                value: "CDI",
                text: "Collective DC (CC) benefits expressed as regular income"
              },           
              {
                value: "CDL",
                text: "Collective DC (CC) benefits expressed as lump sum"
              },              
              {
                value: "CBS",
                text: "Cash balance scheme"
              }
            ]
          }) }}

          {{ govukSelect({
            id: "accruedAmountType",
            name: "accruedAmountType",
            label: {
              text: "Accrued amount type"
            },
            items: [
              {
                value: "POT",
                text: "Valuation of a DC pension pot"
              },              
              {
                value: "INC",
                text: "Calculation of an accrued recurring income"
              },              
              {
                value: "LS",
                text: "Calculation of the accrued value of DBLS/CDCLS type"
              }
            ]
          }) }}
-->
          <label for="accruedCalculationDate" class="govuk-body">Date accrued amount calculated</label>
          <p>
            <input type="date" id="accruedCalculationDate" name="accruedCalculationDate" class="govuk-body">
          </p>
<!--
          {{ govukDateInput({
            id: "accruedCalculationDate",
            namePrefix: "accruedCalculationDate",
            fieldset: {
              legend: {
                text: "Date accrued amount calculated"
              }
            }
          }) }}

          {{ govukDateInput({
            id: "accruedPayableDate",
            namePrefix: "accruedPayableDate",
            fieldset: {
              legend: {
                text: "Date accrued amount payable"
              }
            }
          }) }}
-->
          {{ govukInput({
            id: "accruedAmount",
            name: "accruedAmount",
            label: {
              text: "Accrued amount"
            },
            prefix: {
              text: "£"
            },
            classes: "govuk-input--width-5"
          }) }}
<!--
          {{ govukSelect({
            id: "accruedSafeguardedBenefits",
            name: "accruedSafeguardedBenefits",
            label: {
              text: "Accrued safeguarded benefits for this pension?"
            },
            items: [
              {
                value: "no",
                text: "No"
              },
              {
                value: "yes",
                text: "Yes"
              }            

            ]
          }) }}

          {{ govukSelect({
            id: "accruedUnavailable",
            name: "accruedUnavailable",
            label: {
              text: "Reason accrued amount calculation not available"
            },
            items: [
              {
                value: "",
                text: "N/A"
              },  
              {
                value: "ERR",
                text: "System error code"
              },  
              {
                value: "TRN",
                text: "Transaction oustanding that affects the value"
              },              
              {
                value: "MAN",
                text: "Estimated income not currently availabel online"
              }
            ]
          }) }}

-->
          {% endcall %}

        <div class="govuk-button-group">
          <button class="govuk-button" data-module="govuk-button" data-prevent-double-click="true">
            Save pension details
          </button>

          <a class="govuk-link" href="display-pensions">List pensions</a>
        </div>
      </form>
    </div>

    <div class="govuk-grid-column-one-third">
      <h2 class="govuk-heading-m">
        Other pages:
      </h2>
      <p>
        <a class="govuk-link" href="display-pensions">Display and manage pensions</a>
      </p>
      <p>
        <a href="add-providers">Add a new provider</a>
      </p>
    </div>

    </div>
  </div>

{% endblock %}